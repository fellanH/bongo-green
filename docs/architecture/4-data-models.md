# 4\. Data Models

## Profile

**Purpose:** To store public user information, their application role, and their credit balance, linked to their secure authentication identity.
**TypeScript Interface:**

```typescript
interface Profile {
  id: string;
  email: string;
  role: 'admin' | 'free' | 'pro';
  credits: number;
}
```

**Relationships:**

  * Belongs to one `auth.users` record.
  * Has many `Workflows` and `Assets`.

## Workflow

**Purpose:** To represent a saved, multi-step process created by a user.
**TypeScript Interface:**

```typescript
interface Workflow {
  id: string;
  name: string;
  owner_id: string;
  nodes?: Node[]; // Loaded as a relation
}
```

**Relationships:**

  * Belongs to one `Profile`.
  * Has many `Nodes`.

## Node

**Purpose:** To represent a single step (a model execution) within a Workflow.
**TypeScript Interface:**

```typescript
interface Node {
  id: string;
  workflow_id: string;
  model_id: string;
  position: number;
  config: Record<string, any>;
}
```

**Relationships:**

  * Belongs to one `Workflow`.

## Asset

**Purpose:** To store metadata about a piece of content (image or video) generated by a workflow.
**TypeScript Interface:**

```typescript
interface Asset {
  id: string;
  owner_id: string;
  url: string;
  inputs: Record<string, any>;
}
```

**Relationships:**

  * Belongs to one `Profile`.

-----
